{% extends 'base.html' %}

{% load settings_value %}
{% load json_script %}
{% load set_context %}

{% block django_json_data %}
    <script> 
        // TODO: Replace this with a object in the context and a json_script.
        window.term_data = {
            today: '{{ today|date:"l, F j, Y" }}',
            year: '{{ year }}',
            quarter: '{{ quarter }}',
            breakYear: '{{ break_year }}',
            breakQuarter: '{{ break_quarter }}',
            isFinals: {{ is_finals|yesno:"true, false"}},
            isBreak: {{ is_break|yesno:"true, false"}},
            todayDate: new Date({{ today|date:"Y" }}, {{ today|date:"n" }}-1, {{ today|date:"j"}}),
            firstDay: new Date({{ first_day|date:"Y" }}, {{ first_day|date:"n" }}-1, {{ first_day|date:"j"}}),
            lastDay: new Date({{ last_day|date:"Y" }}, {{ last_day|date:"n" }}-1, {{ last_day|date:"j"}})
        };
    </script>
    {{ card_display_dates|json_script:'card_display_dates' }}
{% endblock django_json_data %}

{% block body_content %}

  <myuw-boilerplate logout-url="{% settings_value "LOGOUT_URL" %}">

    <myuw-banner-summaries></myuw-banner-summaries>
    <template #main>
      <myuw-notice-card class="order-1"></myuw-notice-card>

      <myuw-grades class="order-2"></myuw-grades>
      <myuw-husky-experience class="order-3"></myuw-husky-experience> 
      <myuw-ns-critical-info class="order-4"></myuw-ns-critical-info>
      <myuw-ns-international-student class="order-5"></myuw-ns-international-student>

      <myuw-applicant class="order-6"></myuw-applicant>

      <myuw-international-student class="order-7"></myuw-international-student>
    </template>
    <template #side-bar>
      <myuw-events class="order-8"></myuw-events>
    </template>
  </myuw-boilerplate>
{% endblock body_content %}

{% block vue_script %}
  {% load render_bundle from webpack_loader %}
  {% render_bundle 'index' %}
{% endblock vue_script %}
